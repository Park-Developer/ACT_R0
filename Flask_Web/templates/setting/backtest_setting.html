{% extends 'base.html' %}

{% block header %}
    <h1><i class="fa-solid fa-gear"></i> {% block title %}Backtest Setting{% endblock %}</h1>
{% endblock %}

<!--[ BODY ]-->
{% block content %}

{# ---------------------- [1] USER & STRATEGY SETTING STATE ---------------------- #}
<section>
  <h1 class="section_header_style"><i class="fa-solid fa-gear"></i> Target Setting State</h1>

  <ul>
    <!-- (1) Market -->
    <li>
      <label class="usersetting_market_label"> Market : </label> <!-- user_list db 에서 가져옴 -->
      <span class="usersetting_market_val">{{login_userDB["target_coin"+(target_coin_id)|string]["market"]}}</span>
    </li>

    <!-- (2) Trading Period -->
    <li>
      <label class="usersetting_period_label">Trading Period : </label> <!-- user_list db 에서 가져옴 -->
      <span class="usersetting_period_val">{{login_userDB["target_coin"+(target_coin_id)|string]["period"]}}</span>
    </li>

    <!-- (3) Monitoring Time -->
    <li>
      <label class="usersetting_monitoringtime_label">Monitoring Time(min) : </label> <!-- strategy db 에서 가져옴 -->
      <span class="usersetting_monitoringtime_val">{{strategyDB["monitoring_time"]}}</span>
    </li>

    <!-- (4) Test Data Number -->
    <li>
      <label class="usersetting_dataNum_label">Backtesting Data Number : </label>
      <span class="usersetting_dataNum_val"></span>
    </li>
  </ul>
</section>


{# ---------------------- [2] Training & Backtesting Time Setting ---------------------- #}
<section>
    <form action="/backtest/target_{{target_coin_id}}/run" method="post">
      <article>
        <h1 class="section_header_style"><i class="fa-solid fa-database"></i> Training Data Setting</h1>

        <label><i class="fa-solid fa-square"></i> Training Start Time</label>

        <div class="training_timesetting_div training_starttime_setting">
          <!-- (2-1) training time : year -->
          <div>
            <label class="training_starttime_year_label">Year : </label>
            <span class="training_starttime_year_val"></span>
          </div>

          <!-- (2-2) backtest time : month -->
          <div>
            <label class="training_starttime_month_label">Month : </label>

            <select class="training_starttime_month_select" name="training_starttime_month" id="training_starttime_month">
              <option selected value="training_month_None"> </option>

            </select>
          </div>

          <!-- (2-3) backtest time : day -->
          <div>
            <label class="training_starttime_day_label">Day : </label>
            <select class="training_starttime_day_select" name="training_starttime_day" id="training_starttime_day">
              <option selected value="training_day_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (2-4) backtest time : Hour -->
          <div>
            <label class="training_starttime_hour_label">Hour : </label>
            <select class="training_starttime_hour_select" name="training_starttime_hour" id="training_starttime_hour">
              <option selected value="training_hour_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (2-5) backtest time : Minute -->
          <div>
            <label class="training_starttime_minute_label">Minute : </label>
            <select class="training_starttime_minute_select" name="training_starttime_minute" id="training_starttime_minute">
              <option selected value="training_minute_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (2-6) backtest time : Second -->
          <div>
            <label class="training_starttime_second_label">Second : </label>
            <span class="training_starttime_second_val">00</span>
          </div>

        </div>
      </article>

      <!-- (4) Backtest End Time Setting -->
      <article>
        <label><i class="fa-solid fa-square"></i> Training End Time</label>

        <div class="training_timesetting_div training_endtime_setting">
          <!-- (3-1) backtest time : year -->
          <div>
            <label class="training_endtime_year_label">Year : </label>
            <span class="training_endtime_year_val"></span>
          </div>

          <!-- (3-2) backtest time : month -->
          <div>
            <label class="training_endtime_month_label">Month : </label>
            <span class="training_endtime_month_val"></span>
          </div>

          <!-- (3-3) backtest time : day -->
          <div>
            <label class="training_endtime_day_label">Day : </label>
            <span class="training_endtime_day_val" name="test", id="test"></span>
          </div>

          <!-- (3-4) backtest time : hour -->
          <div>
            <label class="training_endtime_hour_label">Hour : </label>
            <span class="training_endtime_hour_val"></span>
          </div>

          <!-- (3-5) backtest time : minute -->
          <div>
            <label class="training_endtime_minute_label">Minute : </label>
            <span class="training_endtime_minute_val"></span>
          </div>

          <!-- (3-6) backtest time : second -->
          <div>
            <label class="training_endtime_second_label">Second : </label>
            <span class="training_endtime_second_val">00</span>
          </div>

        </div>
      </article>

      <!-- (3) Backtest Start Time Setting -->
      <article>
        <h1 class="section_header_style"><i class="fa-solid fa-clock-rotate-left"></i> Backtesting Time Setting</h1>

        <label><i class="fa-solid fa-square"></i> Backtest Start Time</label>

        <div class="backtest_timesetting_div backtest_starttime_setting">
          <!-- (3-1) backtest time : year -->
          <div>
            <label class="backtest_starttime_year_label">Year : </label>
            <span class="backtest_starttime_year_val"></span>
          </div>

          <!-- (3-2) backtest time : month -->
          <div>
            <label class="backtest_starttime_month_label">Month : </label>

            <select class="backtest_starttime_month_select" name="backtest_starttime_month" id="backtest_starttime_month">
              <option selected value="backstart_month_None"> </option>

            </select>
          </div>

          <!-- (3-3) backtest time : day -->
          <div>
            <label class="backtest_starttime_day_label">Day : </label>
            <select class="backtest_starttime_day_select" name="backtest_starttime_day" id="backtest_starttime_day">
              <option selected value="backstart_day_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (3-4) backtest time : Hour -->
          <div>
            <label class="backtest_starttime_hour_label">Hour : </label>
            <select class="backtest_starttime_hour_select" name="backtest_starttime_hour" id="backtest_starttime_hour">
              <option selected value="backstart_hour_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (3-5) backtest time : Minute -->
          <div>
            <label class="backtest_starttime_minute_label">Minute : </label>
            <select class="backtest_starttime_minute_select" name="backtest_starttime_minute" id="backtest_starttime_minute">
              <option selected value="backstart_minute_None"> </option> <!-- default option -->

            </select>
          </div>

          <!-- (3-6) backtest time : Second -->
          <div>
            <label class="backtest_starttime_second_label">Second : </label>
            <span class="backtest_starttime_second_val">00</span>
          </div>

        </div>
      </article>

      <!-- (4) Backtest End Time Setting -->
      <article>
        <label><i class="fa-solid fa-square"></i> Backtest End Time</label>

        <div class="backtest_timesetting_div backtest_endtime_setting">
          <!-- (3-1) backtest time : year -->
          <div>
            <label class="backtest_endtime_year_label">Year : </label>
            <span class="backtest_endtime_year_val"></span>
          </div>

          <!-- (3-2) backtest time : month -->
          <div>
            <label class="backtest_endtime_month_label">Month : </label>
            <span class="backtest_endtime_month_val"></span>
          </div>

          <!-- (3-3) backtest time : day -->
          <div>
            <label class="backtest_endtime_day_label">Day : </label>
            <span class="backtest_endtime_day_val" name="test", id="test"></span>
          </div>

          <!-- (3-4) backtest time : hour -->
          <div>
            <label class="backtest_endtime_hour_label">Hour : </label>
            <span class="backtest_endtime_hour_val"></span>
          </div>

          <!-- (3-5) backtest time : minute -->
          <div>
            <label class="backtest_endtime_minute_label">Minute : </label>
            <span class="backtest_endtime_minute_val"></span>
          </div>

          <!-- (3-6) backtest time : second -->
          <div>
            <label class="backtest_endtime_second_label">Second : </label>
            <span class="backtest_endtime_second_val">00</span>
          </div>

        </div>
      </article>

      <!-- (5) Test Speed -->
      <article>
        <label><i class="fa-solid fa-square"></i> Backtest Speed</label>
        <select class="backtest_speed" name="test_speed" id="test_speed">
           <option value="1 Second">1 Second</option>
           <option value="10 Second">10 Second</option>
           <option value="30 Second">30 Second</option>
           <option value="1 Minute">1 Minute</option>
        </select>
      </article>

      <!-- (6) Run & Cancel Button -->
      <article>
        <div>
          <button class="backtest_run__btn" type="submit">Backtest Start</button>
          <button onclick="location.href='/backtest/target_{{target_coin_id}}/setting'" class="backtest_cancel__btn" type="button">Cancel</button>
        </div>
      </article>
    </form>
</section>


{# ---------------------- [2] BACKTESTING INFO ---------------------- #}
<section>
</section>


<script src="{{url_for('static', filename='backtest/backtest_setting.js')}}"></script>

{% endblock %}
